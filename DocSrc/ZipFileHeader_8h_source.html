<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ZipFileHeader.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff" leftmargin="32" marginwidth="32" topmargin="32" marginheight="32">
<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">ZipFileHeader.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ZipFileHeader_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">// This source file is part of the ZipArchive library source distribution and</span>
<a name="l00003"></a>00003 <span class="comment">// is Copyrighted 2000 - 2012 by Artpol Software - Tadeusz Dracz</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// This program is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment">// modify it under the terms of the GNU General Public License</span>
<a name="l00007"></a>00007 <span class="comment">// as published by the Free Software Foundation; either version 2</span>
<a name="l00008"></a>00008 <span class="comment">// of the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment">// </span>
<a name="l00010"></a>00010 <span class="comment">// For the licensing details refer to the License.txt file.</span>
<a name="l00011"></a>00011 <span class="comment">//</span>
<a name="l00012"></a>00012 <span class="comment">// Web Site: http://www.artpol-software.com</span>
<a name="l00014"></a>00014 <span class="comment"></span>
<a name="l00020"></a>00020 <span class="preprocessor">#if !defined(ZIPARCHIVE_ZIPFILEHEADER_DOT_H)</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define ZIPARCHIVE_ZIPFILEHEADER_DOT_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#if _MSC_VER &gt; 1000</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#pragma once</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;ZipExport.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="ZipStorage_8h.html">ZipStorage.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;ZipAutoBuffer.h&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;sys/types.h&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="ZipCompatibility_8h.html">ZipCompatibility.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;ZipCollections.h&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="ZipExtraField_8h.html">ZipExtraField.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="ZipStringStoreSettings_8h.html">ZipStringStoreSettings.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="ZipCryptograph_8h.html">ZipCryptograph.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="BitFlag_8h.html">BitFlag.h</a>&quot;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">class </span><a class="code" href="classCZipCentralDir.html">CZipCentralDir</a>;
<a name="l00040"></a>00040 
<a name="l00044"></a><a class="code" href="classCZipFileHeader.html">00044</a> <span class="keyword">class </span>ZIP_API <a class="code" href="classCZipFileHeader.html">CZipFileHeader</a>  
<a name="l00045"></a>00045 {
<a name="l00046"></a>00046  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classCZipCentralDir.html">CZipCentralDir</a>;
<a name="l00047"></a>00047  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classCZipArchive.html" title="Represents a zip archive file.">CZipArchive</a>;
<a name="l00048"></a>00048 <span class="keyword">protected</span>:
<a name="l00049"></a>00049  <a class="code" href="classCZipFileHeader.html">CZipFileHeader</a>(<a class="code" href="classCZipCentralDir.html">CZipCentralDir</a>* pCentralDir);
<a name="l00050"></a>00050 <span class="keyword">public</span>: 
<a name="l00057"></a><a class="code" href="classCZipFileHeader.html#a0ccc7758697464c4ec05d014e95fb3b7">00057</a>  <span class="keyword">enum</span> <a class="code" href="classCZipFileHeader.html#a0ccc7758697464c4ec05d014e95fb3b7">StateFlags</a>
<a name="l00058"></a>00058  {
<a name="l00059"></a><a class="code" href="classCZipFileHeader.html#a0ccc7758697464c4ec05d014e95fb3b7a43e1e01e551ecf829385de152b75a817">00059</a>   sfNone    = 0x00,  
<a name="l00060"></a>00060 <span class="preprocessor">#ifdef _ZIP_UNICODE_CUSTOM </span>
<a name="l00061"></a><a class="code" href="classCZipFileHeader.html#a0ccc7758697464c4ec05d014e95fb3b7a2dfafedcb7b62d770eec915bb21034eb">00061</a> <span class="preprocessor"></span>  sfCustomUnicode  = 0x10,  
<a name="l00062"></a>00062 <span class="preprocessor">#endif</span>
<a name="l00063"></a><a class="code" href="classCZipFileHeader.html#a0ccc7758697464c4ec05d014e95fb3b7ad1a1b39709f88e8306abb4a30f91c297">00063</a> <span class="preprocessor"></span>  sfModified   = 0x20  
<a name="l00064"></a>00064  };
<a name="l00065"></a>00065 
<a name="l00066"></a>00066  <a class="code" href="classCZipFileHeader.html">CZipFileHeader</a>();
<a name="l00067"></a>00067  <a class="code" href="classCZipFileHeader.html">CZipFileHeader</a>(<span class="keyword">const</span> <a class="code" href="classCZipFileHeader.html">CZipFileHeader</a>&amp; header)
<a name="l00068"></a>00068  {
<a name="l00069"></a>00069   *<span class="keyword">this</span> = header;
<a name="l00070"></a>00070  }
<a name="l00071"></a>00071  <a class="code" href="classCZipFileHeader.html">CZipFileHeader</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classCZipFileHeader.html">CZipFileHeader</a>&amp; header);
<a name="l00072"></a>00072  <span class="keyword">virtual</span> ~<a class="code" href="classCZipFileHeader.html">CZipFileHeader</a>();
<a name="l00073"></a>00073 
<a name="l00080"></a><a class="code" href="classCZipFileHeader.html#ac508581c4e3d5c87ec4b11f583b3f9c6">00080</a>  <span class="keywordtype">int</span> PredictFileNameSize()<span class="keyword"> const </span>
<a name="l00081"></a>00081 <span class="keyword"> </span>{
<a name="l00082"></a>00082   <span class="keywordflow">if</span> (m_fileName.HasBuffer())
<a name="l00083"></a>00083   {
<a name="l00084"></a>00084    <span class="keywordflow">return</span> m_fileName.GetBufferSize();
<a name="l00085"></a>00085   }
<a name="l00086"></a>00086   CZipAutoBuffer buffer;
<a name="l00087"></a>00087   ConvertFileName(buffer);
<a name="l00088"></a>00088   <span class="keywordflow">return</span> buffer.GetSize();
<a name="l00089"></a>00089  }
<a name="l00090"></a>00090  
<a name="l00097"></a><a class="code" href="classCZipFileHeader.html#abdd82356bec5193cd075b9f98ed53bee">00097</a>  <span class="keywordtype">int</span> PredictCommentSize()<span class="keyword"> const </span>
<a name="l00098"></a>00098 <span class="keyword"> </span>{
<a name="l00099"></a>00099   <span class="keywordflow">if</span> (m_comment.HasBuffer())
<a name="l00100"></a>00100   {
<a name="l00101"></a>00101    <span class="keywordflow">return</span> m_comment.GetBufferSize();
<a name="l00102"></a>00102   }
<a name="l00103"></a>00103   CZipAutoBuffer buffer;
<a name="l00104"></a>00104   ConvertComment(buffer);
<a name="l00105"></a>00105   <span class="keywordflow">return</span> buffer.GetSize();
<a name="l00106"></a>00106  }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 
<a name="l00131"></a>00131  <span class="keyword">const</span> CZipString&amp; GetFileName(<span class="keywordtype">bool</span> bClearBuffer = <span class="keyword">true</span>);
<a name="l00132"></a>00132 
<a name="l00154"></a>00154  <span class="keywordtype">bool</span> SetFileName(LPCTSTR lpszFileName);
<a name="l00155"></a>00155 
<a name="l00173"></a>00173  <span class="keyword">const</span> CZipString&amp; GetComment(<span class="keywordtype">bool</span> bClearBuffer = <span class="keyword">false</span>);
<a name="l00174"></a>00174 
<a name="l00189"></a>00189  <span class="keywordtype">bool</span> SetComment(LPCTSTR lpszComment);
<a name="l00190"></a>00190 
<a name="l00197"></a><a class="code" href="classCZipFileHeader.html#ac84c7cb1b24283e21762146770fe872c">00197</a>  <span class="keywordtype">bool</span> <a class="code" href="classCZipFileHeader.html#ac84c7cb1b24283e21762146770fe872c">IsDataDescriptor</a>()<span class="keyword">const </span>{ <span class="keywordflow">return</span> (m_uFlag &amp; (WORD) 8) != 0;}
<a name="l00198"></a>00198 
<a name="l00210"></a><a class="code" href="classCZipFileHeader.html#af8e4368910bda3fe2d77316bd0b5e48c">00210</a>  WORD GetDataDescriptorSize(<span class="keyword">const</span> <a class="code" href="classCZipStorage.html">CZipStorage</a>* pStorage)<span class="keyword"> const</span>
<a name="l00211"></a>00211 <span class="keyword"> </span>{
<a name="l00212"></a>00212   <span class="keywordflow">return</span> GetDataDescriptorSize(NeedsSignatureInDataDescriptor(pStorage));
<a name="l00213"></a>00213  }
<a name="l00214"></a>00214 
<a name="l00226"></a>00226  WORD GetDataDescriptorSize(<span class="keywordtype">bool</span> bConsiderSignature = <span class="keyword">false</span>) <span class="keyword">const</span>; 
<a name="l00227"></a>00227 
<a name="l00241"></a><a class="code" href="classCZipFileHeader.html#af0f91a6fa79de5642a455e2612a75a17">00241</a>  ZIP_SIZE_TYPE GetDataSize(<span class="keywordtype">bool</span> bReal)<span class="keyword"> const</span>
<a name="l00242"></a>00242 <span class="keyword"> </span>{
<a name="l00243"></a>00243   DWORD uEncrSize = GetEncryptedInfoSize();
<a name="l00244"></a>00244   <span class="keywordflow">return</span> bReal ? (m_uComprSize - uEncrSize) : (m_uComprSize + uEncrSize);
<a name="l00245"></a>00245  }
<a name="l00246"></a>00246 
<a name="l00253"></a><a class="code" href="classCZipFileHeader.html#a6b8f3efd2dd99651d0c61e0cb0bf743f">00253</a>  DWORD GetEncryptedInfoSize()<span class="keyword"> const</span>
<a name="l00254"></a>00254 <span class="keyword"> </span>{
<a name="l00255"></a>00255   <span class="keywordflow">return</span> <a class="code" href="classCZipCryptograph.html#a0c4c270eac13c711dbcbeb9f41279c74">CZipCryptograph::GetEncryptedInfoSize</a>(m_uEncryptionMethod);
<a name="l00256"></a>00256  }
<a name="l00257"></a>00257 
<a name="l00264"></a>00264  DWORD GetSize() <span class="keyword">const</span>;
<a name="l00265"></a>00265 
<a name="l00277"></a>00277  DWORD GetLocalSize(<span class="keywordtype">bool</span> bReal) <span class="keyword">const</span>; 
<a name="l00278"></a>00278 
<a name="l00286"></a><a class="code" href="classCZipFileHeader.html#a21a76d9ede8909e7b35b88ad0087c0b2">00286</a>  <span class="keywordtype">bool</span> CompressionEfficient()
<a name="l00287"></a>00287  {
<a name="l00288"></a>00288   ZIP_SIZE_TYPE uBefore = m_uUncomprSize;
<a name="l00289"></a>00289   <span class="comment">// ignore the length of encryption info </span>
<a name="l00290"></a>00290   ZIP_SIZE_TYPE uAfter = GetDataSize(<span class="keyword">true</span>);
<a name="l00291"></a>00291   <span class="keywordflow">return</span>  uAfter &lt;= uBefore;
<a name="l00292"></a>00292  }
<a name="l00293"></a>00293 
<a name="l00300"></a><a class="code" href="classCZipFileHeader.html#ae80838388b3587fe2d43109b1177016a">00300</a>  <span class="keywordtype">float</span> GetCompressionRatio()
<a name="l00301"></a>00301  {
<a name="l00302"></a>00302 <span class="preprocessor">#if _MSC_VER &gt;= 1300 || !defined(_ZIP_ZIP64)</span>
<a name="l00303"></a>00303 <span class="preprocessor"></span>  <span class="keywordflow">return</span> m_uUncomprSize ? ((float)m_uComprSize * 100 ) / m_uUncomprSize: 0;
<a name="l00304"></a>00304 <span class="preprocessor">#else</span>
<a name="l00305"></a>00305 <span class="preprocessor"></span>  <span class="keywordflow">return</span> m_uUncomprSize ? ((float)(__int64)(m_uComprSize) / (<span class="keywordtype">float</span>)(__int64)m_uUncomprSize) * 100: 0;
<a name="l00306"></a>00306 <span class="preprocessor">#endif</span>
<a name="l00307"></a>00307 <span class="preprocessor"></span> }
<a name="l00308"></a>00308 
<a name="l00318"></a>00318  <span class="keywordtype">void</span> SetTime(<span class="keyword">const</span> time_t&amp; ttime);
<a name="l00319"></a>00319 
<a name="l00329"></a>00329  time_t GetTime()<span class="keyword">const</span>;
<a name="l00330"></a>00330 
<a name="l00344"></a><a class="code" href="classCZipFileHeader.html#a76e0ad214ea2276da7b526dbf7c0c189">00344</a>  <span class="keywordtype">int</span> <a class="code" href="classCZipArchive.html#a5cd378df6bf6c5e119aed6f06bc921cc">GetSystemCompatibility</a>()<span class="keyword">const</span>
<a name="l00345"></a>00345 <span class="keyword"> </span>{
<a name="l00346"></a>00346   <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)m_iSystemCompatibility;
<a name="l00347"></a>00347  }
<a name="l00348"></a>00348 
<a name="l00362"></a>00362  DWORD GetSystemAttr();
<a name="l00363"></a>00363 
<a name="l00364"></a>00364  
<a name="l00377"></a>00377  <span class="keywordtype">bool</span> SetSystemAttr(DWORD uAttr);
<a name="l00378"></a>00378 
<a name="l00391"></a><a class="code" href="classCZipFileHeader.html#a9747eca0bf9749f74cb3fba766d580fb">00391</a>  DWORD <a class="code" href="classCZipFileHeader.html#a9747eca0bf9749f74cb3fba766d580fb">GetOriginalAttributes</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_uExternalAttr;}
<a name="l00392"></a>00392 
<a name="l00403"></a>00403  <span class="keywordtype">bool</span> <a class="code" href="namespaceZipPlatform.html#a62a6f9cb5d789c22c3fc035a3260dbde">IsDirectory</a>();
<a name="l00404"></a>00404 
<a name="l00405"></a>00405 <span class="preprocessor">#ifdef _ZIP_UNICODE_CUSTOM </span>
<a name="l00406"></a>00406 <span class="preprocessor"></span>
<a name="l00417"></a><a class="code" href="classCZipFileHeader.html#ad4d29775356f406d8f1e6864f90681a0">00417</a>  <a class="code" href="classCZipStringStoreSettings.html">CZipStringStoreSettings</a> <a class="code" href="classCZipArchive.html#a54f26713f4bc6c808250fe5a0b8b0565">GetStringStoreSettings</a>()
<a name="l00418"></a>00418  {
<a name="l00419"></a>00419   <span class="keywordflow">return</span> <a class="code" href="classCZipArchive.html#ad0613d8a6210b68a6569b45140a2e9a6">m_stringSettings</a>;
<a name="l00420"></a>00420  }
<a name="l00421"></a>00421 <span class="preprocessor">#endif</span>
<a name="l00422"></a>00422 <span class="preprocessor"></span>
<a name="l00434"></a><a class="code" href="classCZipFileHeader.html#a0b3983cef7d3d4e2a7dff403e88b8883">00434</a>  <span class="keywordtype">bool</span> <a class="code" href="classCZipFileHeader.html#a0b3983cef7d3d4e2a7dff403e88b8883">IsEncrypted</a>()<span class="keyword">const </span>{ <span class="keywordflow">return</span> m_uEncryptionMethod != <a class="code" href="classCZipCryptograph.html#ab3e0a46c0680f616ccf7a163f4f40332aa72fc2366adc9ba8d011e038717c4f28" title="Indicates no encryption.">CZipCryptograph::encNone</a>;}
<a name="l00435"></a>00435 
<a name="l00442"></a><a class="code" href="classCZipFileHeader.html#a34d63482fba1d2579eab6472328e6c05">00442</a>  <span class="keywordtype">int</span> <a class="code" href="classCZipFileHeader.html#a34d63482fba1d2579eab6472328e6c05">GetEncryptionMethod</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_uEncryptionMethod;}
<a name="l00443"></a>00443 
<a name="l00450"></a><a class="code" href="classCZipFileHeader.html#a5447ba05f1e4d352e3e613263f519871">00450</a>  <span class="keywordtype">bool</span> IsWinZipAesEncryption()<span class="keyword"> const</span>
<a name="l00451"></a>00451 <span class="keyword"> </span>{
<a name="l00452"></a>00452   <span class="keywordflow">return</span> <a class="code" href="classCZipCryptograph.html#a92dc8af1a9ed1c29520c13c0f779af34">CZipCryptograph::IsWinZipAesEncryption</a>(m_uEncryptionMethod);
<a name="l00453"></a>00453  }
<a name="l00454"></a>00454 
<a name="l00461"></a>00461  <span class="keywordtype">int</span> GetCompressionLevel() <span class="keyword">const</span>;
<a name="l00462"></a>00462 
<a name="l00469"></a><a class="code" href="classCZipFileHeader.html#a924492b8267f8ace472c1fe7d6ae14c8">00469</a>  <span class="keywordtype">bool</span> HasTime()<span class="keyword"> const</span>
<a name="l00470"></a>00470 <span class="keyword"> </span>{
<a name="l00471"></a>00471   <span class="keywordflow">return</span> m_uModTime != 0 || m_uModDate != 0;
<a name="l00472"></a>00472  }
<a name="l00473"></a>00473 
<a name="l00483"></a><a class="code" href="classCZipFileHeader.html#a505da23d289b2d4e9a2f1e2b0e276d21">00483</a>  <span class="keywordtype">bool</span> <a class="code" href="classCZipArchive.html#a871adedb7077a464d52a2ab6ef36b4b7">IsModified</a>()<span class="keyword"> const</span>
<a name="l00484"></a>00484 <span class="keyword"> </span>{
<a name="l00485"></a>00485   <span class="keywordflow">return</span> m_state.IsSetAny(sfModified);
<a name="l00486"></a>00486  }
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 
<a name="l00495"></a><a class="code" href="classCZipFileHeader.html#ab0447369350fe5dd150b63dcc00592aa">00495</a>  <span class="keyword">const</span> <a class="code" href="structZipArchiveLib_1_1CBitFlag.html">ZipArchiveLib::CBitFlag</a>&amp; GetState()<span class="keyword"> const</span>
<a name="l00496"></a>00496 <span class="keyword"> </span>{
<a name="l00497"></a>00497   <span class="keywordflow">return</span> m_state;
<a name="l00498"></a>00498  }
<a name="l00499"></a>00499 
<a name="l00500"></a><a class="code" href="classCZipFileHeader.html#a16228f70a6310630a9d146f3a20a2674">00500</a>  <span class="keyword">static</span> <span class="keywordtype">char</span> m_gszSignature[];  
<a name="l00501"></a><a class="code" href="classCZipFileHeader.html#a89bead753bbb91bed1294a753941aae2">00501</a>  <span class="keyword">static</span> <span class="keywordtype">char</span> m_gszLocalSignature[]; 
<a name="l00502"></a><a class="code" href="classCZipFileHeader.html#a5030147f5863dae18c86e3109fe0b83b">00502</a>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classCZipFileHeader.html#a5030147f5863dae18c86e3109fe0b83b" title="The version of the software that created the archive.">m_uVersionMadeBy</a>;  
<a name="l00503"></a><a class="code" href="classCZipFileHeader.html#a6fd090bf501e8a0510bddcd0aed13cda">00503</a>  WORD <a class="code" href="classCZipFileHeader.html#a6fd090bf501e8a0510bddcd0aed13cda" title="The version needed to extract the file.">m_uVersionNeeded</a>;    
<a name="l00504"></a><a class="code" href="classCZipFileHeader.html#ab4e884870db38a15ab0a4c3264d4b831">00504</a>  WORD <a class="code" href="classCZipFileHeader.html#ab4e884870db38a15ab0a4c3264d4b831" title="A general purpose bit flag.">m_uFlag</a>;      
<a name="l00505"></a><a class="code" href="classCZipFileHeader.html#a565b52e5bc6a1e76f1397db36bee4c44">00505</a>  WORD <a class="code" href="classCZipFileHeader.html#a565b52e5bc6a1e76f1397db36bee4c44" title="The compression method. It can be one of the CZipCompressor::CompressionMethod values.">m_uMethod</a>;      
<a name="l00506"></a><a class="code" href="classCZipFileHeader.html#af0bfaac1f7740dd65af7c308bcd13375">00506</a>  WORD <a class="code" href="classCZipFileHeader.html#af0bfaac1f7740dd65af7c308bcd13375" title="The file last modification time.">m_uModTime</a>;     
<a name="l00507"></a><a class="code" href="classCZipFileHeader.html#af7e50dae2693615ca6a98ebc464d3721">00507</a>  WORD <a class="code" href="classCZipFileHeader.html#af7e50dae2693615ca6a98ebc464d3721" title="The file last modification date.">m_uModDate</a>;     
<a name="l00508"></a><a class="code" href="classCZipFileHeader.html#a51290cd4bca1cd5a699d93fe1b77ce85">00508</a>  DWORD <a class="code" href="classCZipFileHeader.html#a51290cd4bca1cd5a699d93fe1b77ce85" title="The crc-32 value.">m_uCrc32</a>;      
<a name="l00509"></a><a class="code" href="classCZipFileHeader.html#a26a40f4a1ddf82be77e085418121d378">00509</a>  ZIP_SIZE_TYPE <a class="code" href="classCZipFileHeader.html#a26a40f4a1ddf82be77e085418121d378" title="The compressed size.">m_uComprSize</a>;   
<a name="l00510"></a><a class="code" href="classCZipFileHeader.html#a64d6d7786abfcab0bbb2aa5f7ced12f1">00510</a>  ZIP_SIZE_TYPE <a class="code" href="classCZipFileHeader.html#a64d6d7786abfcab0bbb2aa5f7ced12f1" title="The uncompressed size.">m_uUncomprSize</a>;  
<a name="l00511"></a><a class="code" href="classCZipFileHeader.html#a250691e074d01a3eee79be5ee8954f4b">00511</a>  ZIP_VOLUME_TYPE <a class="code" href="classCZipFileHeader.html#a250691e074d01a3eee79be5ee8954f4b" title="The volume number at which the compressed file starts.">m_uVolumeStart</a>;  
<a name="l00512"></a><a class="code" href="classCZipFileHeader.html#a113f74710dde6dd31a29a937f16b1879">00512</a>  WORD <a class="code" href="classCZipFileHeader.html#a113f74710dde6dd31a29a937f16b1879" title="Internal file attributes.">m_uInternalAttr</a>;    
<a name="l00513"></a><a class="code" href="classCZipFileHeader.html#aef50a33f370b40c87dad9c906d903905">00513</a>  ZIP_SIZE_TYPE <a class="code" href="classCZipFileHeader.html#aef50a33f370b40c87dad9c906d903905" title="The compressed size written in the local header.">m_uLocalComprSize</a>; 
<a name="l00514"></a><a class="code" href="classCZipFileHeader.html#ae02071d5948170132a8f47eef27e2066">00514</a>  ZIP_SIZE_TYPE <a class="code" href="classCZipFileHeader.html#ae02071d5948170132a8f47eef27e2066" title="The uncompressed size written in the local header.">m_uLocalUncomprSize</a>; 
<a name="l00515"></a><a class="code" href="classCZipFileHeader.html#a9ced5ffda6b2aeac9c64a09f5207b252">00515</a>  ZIP_SIZE_TYPE <a class="code" href="classCZipFileHeader.html#a9ced5ffda6b2aeac9c64a09f5207b252" title="Relative offset of the local header with respect to CZipFileHeader::m_uVolumeStart.">m_uOffset</a>;   
<a name="l00516"></a><a class="code" href="classCZipFileHeader.html#ae4cbf85b55f10be47fa3782a0bb812b8">00516</a>  <a class="code" href="classCZipExtraField.html">CZipExtraField</a> <a class="code" href="classCZipFileHeader.html#ae4cbf85b55f10be47fa3782a0bb812b8" title="The local extra field. Do not modify it after you started compressing the file.">m_aLocalExtraData</a>; 
<a name="l00517"></a><a class="code" href="classCZipFileHeader.html#aa9d85b6500481bb3067106d908a8766f">00517</a>  <a class="code" href="classCZipExtraField.html">CZipExtraField</a> <a class="code" href="classCZipFileHeader.html#aa9d85b6500481bb3067106d908a8766f" title="The central extra field.">m_aCentralExtraData</a>; 
<a name="l00518"></a>00518 <span class="keyword">protected</span>:
<a name="l00519"></a><a class="code" href="classCZipFileHeader.html#a6ee6254a89990dfd2e8732c6f83cecee">00519</a>  DWORD <a class="code" href="classCZipFileHeader.html#a6ee6254a89990dfd2e8732c6f83cecee" title="External file attributes.">m_uExternalAttr</a>;    
<a name="l00520"></a><a class="code" href="classCZipFileHeader.html#af0f317e4a4e6780def4a66539cfb9451">00520</a>   WORD <a class="code" href="classCZipFileHeader.html#af0f317e4a4e6780def4a66539cfb9451" title="The local filename length.">m_uLocalFileNameSize</a>;   
<a name="l00521"></a><a class="code" href="classCZipFileHeader.html#a3bc293dc09763e332424c87e1992d696">00521</a>  BYTE <a class="code" href="classCZipFileHeader.html#a3bc293dc09763e332424c87e1992d696" title="The file encryption method. It can be one of the CZipCryptograph::EncryptionMethod values...">m_uEncryptionMethod</a>;   
<a name="l00522"></a><a class="code" href="classCZipFileHeader.html#a425c5f6567cfdad42ef92b47c334d8ed">00522</a>  <span class="keywordtype">bool</span> <a class="code" href="classCZipFileHeader.html#a425c5f6567cfdad42ef92b47c334d8ed" title="The value indicating whether to ignore Crc32 checking.">m_bIgnoreCrc32</a>;    
<a name="l00523"></a>00523  DWORD m_uLocalHeaderSize;
<a name="l00524"></a>00524  
<a name="l00525"></a><a class="code" href="classCZipFileHeader.html#abe08cf3a374e4cf8f37c0b033df61b11">00525</a>  <a class="code" href="classCZipCentralDir.html">CZipCentralDir</a>* <a class="code" href="classCZipFileHeader.html#abe08cf3a374e4cf8f37c0b033df61b11" title="The parent central directory. It can be NULL when the header is not a part of central directory...">m_pCentralDir</a>;  
<a name="l00526"></a>00526 
<a name="l00527"></a>00527  
<a name="l00528"></a>00528 
<a name="l00541"></a><a class="code" href="classCZipFileHeader.html#af4d6c64123fa02c25a3ac3da87b700e8">00541</a>  <span class="keywordtype">void</span> <a class="code" href="classCZipArchive.html#a3b22230148bd8a11a9f1f92bff446e1b">SetSystemCompatibility</a>(<span class="keywordtype">int</span> iSystemID, <span class="keywordtype">bool</span> bUpdateAttr = <span class="keyword">false</span>)
<a name="l00542"></a>00542  {
<a name="l00543"></a>00543   <span class="keywordflow">if</span> (bUpdateAttr)
<a name="l00544"></a>00544   {
<a name="l00545"></a>00545    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)m_iSystemCompatibility != iSystemID)
<a name="l00546"></a>00546    {
<a name="l00547"></a>00547     DWORD uAttr = GetSystemAttr();
<a name="l00548"></a>00548     m_iSystemCompatibility = (char)(iSystemID &amp; 0xFF);
<a name="l00549"></a>00549     SetSystemAttr(uAttr &amp; 0xFFFF);    
<a name="l00550"></a>00550    }
<a name="l00551"></a>00551    <span class="keywordflow">return</span>;
<a name="l00552"></a>00552   }
<a name="l00553"></a>00553   m_iSystemCompatibility = (char)(iSystemID &amp; 0xFF);
<a name="l00554"></a>00554  }
<a name="l00555"></a>00555  
<a name="l00559"></a><a class="code" href="classCZipFileHeader.html#a9286b474e4da6a5eabeb0c55bd238ccd">00559</a>  <span class="keywordtype">void</span> PrepareStringBuffers()
<a name="l00560"></a>00560  {
<a name="l00561"></a>00561   <span class="keywordflow">if</span> (!m_fileName.HasBuffer())
<a name="l00562"></a>00562   {
<a name="l00563"></a>00563    ConvertFileName(m_fileName.m_buffer);
<a name="l00564"></a>00564   }
<a name="l00565"></a>00565   <span class="keywordflow">if</span> (!m_comment.HasBuffer())
<a name="l00566"></a>00566   {
<a name="l00567"></a>00567    ConvertComment(m_comment.m_buffer);
<a name="l00568"></a>00568   }
<a name="l00569"></a>00569  }
<a name="l00570"></a>00570 
<a name="l00580"></a>00580  <span class="keywordtype">bool</span> CheckDataDescriptor(<a class="code" href="classCZipStorage.html">CZipStorage</a>* pStorage) <span class="keyword">const</span>;
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 
<a name="l00593"></a>00593  <span class="keywordtype">void</span> PrepareData(<span class="keywordtype">int</span> iLevel, <span class="keywordtype">bool</span> bSegm);
<a name="l00594"></a>00594 
<a name="l00603"></a>00603  <span class="keywordtype">void</span> WriteLocal(<a class="code" href="classCZipStorage.html">CZipStorage</a> *pStorage);
<a name="l00604"></a>00604 
<a name="l00618"></a>00618  <span class="keywordtype">bool</span> ReadLocal(<a class="code" href="classCZipCentralDir.html">CZipCentralDir</a>* pCentralDir);
<a name="l00619"></a>00619 
<a name="l00630"></a>00630  DWORD Write(<a class="code" href="classCZipStorage.html">CZipStorage</a> *pStorage);
<a name="l00631"></a>00631 
<a name="l00643"></a>00643  <span class="keywordtype">bool</span> Read(<span class="keywordtype">bool</span> bReadSignature);
<a name="l00644"></a>00644 
<a name="l00645"></a>00645 
<a name="l00653"></a><a class="code" href="classCZipFileHeader.html#a54326fcc28d6305836a942fcae8ef1d7">00653</a>  <span class="keywordtype">bool</span> CheckLengths(<span class="keywordtype">bool</span> local)<span class="keyword"> const</span>
<a name="l00654"></a>00654 <span class="keyword"> </span>{
<a name="l00655"></a>00655   <span class="keywordflow">if</span> (m_comment.GetBufferSize() &gt; (int)USHRT_MAX || m_fileName.GetBufferSize() &gt; (int)USHRT_MAX)
<a name="l00656"></a>00656    <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00657"></a>00657   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (local)
<a name="l00658"></a>00658    <span class="keywordflow">return</span> m_aLocalExtraData.Validate();
<a name="l00659"></a>00659   <span class="keywordflow">else</span>
<a name="l00660"></a>00660    <span class="keywordflow">return</span> m_aCentralExtraData.Validate();
<a name="l00661"></a>00661  }
<a name="l00662"></a>00662 
<a name="l00669"></a>00669  <span class="keywordtype">void</span> WriteCrc32(<span class="keywordtype">char</span>* pBuf) <span class="keyword">const</span>;
<a name="l00670"></a>00670  
<a name="l00671"></a>00671  
<a name="l00679"></a>00679  <span class="keywordtype">bool</span> NeedsDataDescriptor() <span class="keyword">const</span>;
<a name="l00680"></a>00680  
<a name="l00681"></a>00681 
<a name="l00691"></a>00691  <span class="keywordtype">void</span> WriteSmallDataDescriptor(<span class="keywordtype">char</span>* pDest, <span class="keywordtype">bool</span> bLocal = <span class="keyword">true</span>);
<a name="l00692"></a>00692 
<a name="l00699"></a>00699  <span class="keywordtype">void</span> WriteDataDescriptor(<a class="code" href="classCZipStorage.html">CZipStorage</a>* pStorage);
<a name="l00700"></a>00700 
<a name="l00710"></a><a class="code" href="classCZipFileHeader.html#a9fef617b11828e4e8a2e8673232c6004">00710</a>  <span class="keywordtype">bool</span> NeedsSignatureInDataDescriptor(<span class="keyword">const</span> <a class="code" href="classCZipStorage.html">CZipStorage</a>* pStorage)<span class="keyword"> const</span>
<a name="l00711"></a>00711 <span class="keyword"> </span>{
<a name="l00712"></a>00712   <span class="keywordflow">return</span> pStorage-&gt;<a class="code" href="classCZipStorage.html#a32bb04360165669caa18e78c5cd4d216">IsSegmented</a>() || IsEncrypted();
<a name="l00713"></a>00713  }
<a name="l00714"></a>00714 
<a name="l00721"></a>00721  <span class="keywordtype">void</span> UpdateLocalHeader(<a class="code" href="classCZipStorage.html">CZipStorage</a>* pStorage);
<a name="l00722"></a>00722 
<a name="l00726"></a><a class="code" href="classCZipFileHeader.html#acc20d62c7cbfb6456a8a3548a4527cac">00726</a>  <span class="keywordtype">void</span> AdjustLocalComprSize()
<a name="l00727"></a>00727  {
<a name="l00728"></a>00728   AdjustLocalComprSize(m_uLocalComprSize);
<a name="l00729"></a>00729  }
<a name="l00730"></a>00730 
<a name="l00737"></a><a class="code" href="classCZipFileHeader.html#ac6fd805438970c82ce0b4f6e1d4e7103">00737</a>  <span class="keywordtype">void</span> AdjustLocalComprSize(ZIP_SIZE_TYPE&amp; uLocalComprSize)
<a name="l00738"></a>00738  {
<a name="l00739"></a>00739   uLocalComprSize += GetEncryptedInfoSize();
<a name="l00740"></a>00740  }
<a name="l00741"></a>00741 
<a name="l00751"></a><a class="code" href="classCZipFileHeader.html#a4cff193fe9134acd248d01f67805caf3">00751</a>  <span class="keyword">static</span> <span class="keywordtype">bool</span> VerifySignature(CZipAutoBuffer&amp; buf)
<a name="l00752"></a>00752  {
<a name="l00753"></a>00753   <span class="keywordflow">return</span> memcmp(buf, m_gszSignature, 4) == 0;
<a name="l00754"></a>00754  }
<a name="l00755"></a>00755 
<a name="l00762"></a><a class="code" href="classCZipFileHeader.html#a0cdcd0afc1081ba4099f1d4b18b0bc50">00762</a>  <span class="keywordtype">void</span> UpdateFlag(<span class="keywordtype">bool</span> bSegm)
<a name="l00763"></a>00763  {
<a name="l00764"></a>00764   <span class="keywordflow">if</span> (bSegm || m_uEncryptionMethod == <a class="code" href="classCZipCryptograph.html#ab3e0a46c0680f616ccf7a163f4f40332a3acf6a872aa7b3c932d9e8179ecbeb6a" title="The traditional zip encryption.">CZipCryptograph::encStandard</a>)
<a name="l00765"></a>00765    m_uFlag  |= 8; <span class="comment">// data descriptor present</span>
<a name="l00766"></a>00766 
<a name="l00767"></a>00767   <span class="keywordflow">if</span> (IsEncrypted())
<a name="l00768"></a>00768    m_uFlag  |= 1;  <span class="comment">// encrypted file  </span>
<a name="l00769"></a>00769  }
<a name="l00770"></a>00770 
<a name="l00771"></a>00771  
<a name="l00772"></a>00772 <span class="keyword">private</span>: 
<a name="l00773"></a>00773 
<a name="l00774"></a>00774  <span class="keyword">struct </span>StringWithBuffer
<a name="l00775"></a>00775  {
<a name="l00776"></a>00776   StringWithBuffer()
<a name="l00777"></a>00777   {
<a name="l00778"></a>00778    m_pString = NULL;
<a name="l00779"></a>00779   }
<a name="l00780"></a>00780   CZipAutoBuffer m_buffer;
<a name="l00781"></a>00781   StringWithBuffer&amp; operator = (<span class="keyword">const</span> StringWithBuffer&amp; original)
<a name="l00782"></a>00782   {   
<a name="l00783"></a>00783    <span class="keywordflow">if</span> (original.HasString())
<a name="l00784"></a>00784    {
<a name="l00785"></a>00785     SetString(original.GetString());
<a name="l00786"></a>00786    }
<a name="l00787"></a>00787    <span class="keywordflow">else</span>
<a name="l00788"></a>00788    {
<a name="l00789"></a>00789     ClearString();
<a name="l00790"></a>00790    }
<a name="l00791"></a>00791    m_buffer = original.m_buffer;
<a name="l00792"></a>00792    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00793"></a>00793   }
<a name="l00794"></a>00794   <span class="keywordtype">void</span> AllocateString()
<a name="l00795"></a>00795   {
<a name="l00796"></a>00796    ClearString();
<a name="l00797"></a>00797    m_pString = <span class="keyword">new</span> CZipString(_T(<span class="stringliteral">&quot;&quot;</span>));
<a name="l00798"></a>00798   }
<a name="l00799"></a>00799   <span class="keywordtype">bool</span> HasString()<span class="keyword"> const</span>
<a name="l00800"></a>00800 <span class="keyword">  </span>{
<a name="l00801"></a>00801    <span class="keywordflow">return</span> m_pString != NULL;
<a name="l00802"></a>00802   }
<a name="l00803"></a>00803   <span class="keywordtype">bool</span> HasBuffer()<span class="keyword"> const </span>
<a name="l00804"></a>00804 <span class="keyword">  </span>{
<a name="l00805"></a>00805    <span class="keywordflow">return</span> m_buffer.IsAllocated() &amp;&amp; m_buffer.GetSize() &gt; 0;
<a name="l00806"></a>00806   }
<a name="l00807"></a>00807   <span class="keywordtype">void</span> ClearString()
<a name="l00808"></a>00808   {
<a name="l00809"></a>00809    <span class="keywordflow">if</span> (HasString())
<a name="l00810"></a>00810    {
<a name="l00811"></a>00811     <span class="keyword">delete</span> m_pString;
<a name="l00812"></a>00812     m_pString = NULL;
<a name="l00813"></a>00813    }
<a name="l00814"></a>00814   }
<a name="l00815"></a>00815   <span class="keywordtype">void</span> ClearBuffer()
<a name="l00816"></a>00816   {
<a name="l00817"></a>00817    m_buffer.Release();
<a name="l00818"></a>00818   }
<a name="l00819"></a>00819 
<a name="l00820"></a>00820   <span class="keyword">const</span> CZipString&amp; GetString()<span class="keyword"> const</span>
<a name="l00821"></a>00821 <span class="keyword">  </span>{
<a name="l00822"></a>00822    ASSERT(HasString());
<a name="l00823"></a>00823    <span class="keywordflow">return</span> *m_pString;
<a name="l00824"></a>00824   }
<a name="l00825"></a>00825 
<a name="l00826"></a>00826   CZipString&amp; GetString()
<a name="l00827"></a>00827   {
<a name="l00828"></a>00828    ASSERT(HasString());
<a name="l00829"></a>00829    <span class="keywordflow">return</span> *m_pString;
<a name="l00830"></a>00830   }
<a name="l00831"></a>00831 
<a name="l00832"></a>00832   <span class="keywordtype">void</span> SetString(LPCTSTR value)
<a name="l00833"></a>00833   {
<a name="l00834"></a>00834    <span class="keywordflow">if</span> (!HasString())
<a name="l00835"></a>00835     AllocateString();
<a name="l00836"></a>00836    *m_pString = value;
<a name="l00837"></a>00837   }
<a name="l00838"></a>00838   
<a name="l00839"></a>00839   <span class="keywordtype">int</span> GetBufferSize()<span class="keyword"> const</span>
<a name="l00840"></a>00840 <span class="keyword">  </span>{
<a name="l00841"></a>00841    <span class="keywordflow">return</span> m_buffer.GetSize();
<a name="l00842"></a>00842   }
<a name="l00843"></a>00843   ~StringWithBuffer()
<a name="l00844"></a>00844   {
<a name="l00845"></a>00845    ClearString();
<a name="l00846"></a>00846   }
<a name="l00847"></a>00847  <span class="keyword">protected</span>:
<a name="l00848"></a>00848   CZipString* m_pString;
<a name="l00849"></a>00849  };
<a name="l00850"></a>00850 
<a name="l00851"></a>00851  <a class="code" href="structZipArchiveLib_1_1CBitFlag.html">ZipArchiveLib::CBitFlag</a> m_state;
<a name="l00852"></a>00852   
<a name="l00853"></a>00853  <span class="keywordtype">void</span> Initialize(<a class="code" href="classCZipCentralDir.html">CZipCentralDir</a>* pCentralDir);
<a name="l00854"></a>00854 
<a name="l00855"></a>00855  <span class="keywordtype">void</span> SetModified(<span class="keywordtype">bool</span> bModified = <span class="keyword">true</span>)
<a name="l00856"></a>00856  {
<a name="l00857"></a>00857   m_state.Change(sfModified, bModified);
<a name="l00858"></a>00858  }
<a name="l00859"></a>00859 
<a name="l00860"></a>00860  <span class="keywordtype">void</span> ConvertFileName(CZipAutoBuffer&amp; buffer) <span class="keyword">const</span>;
<a name="l00861"></a>00861  <span class="keywordtype">void</span> ConvertFileName(CZipString&amp; szFileName) <span class="keyword">const</span>;
<a name="l00862"></a>00862  <span class="keywordtype">void</span> ConvertComment(CZipAutoBuffer&amp; buffer) <span class="keyword">const</span>;
<a name="l00863"></a>00863  <span class="keywordtype">void</span> ConvertComment(CZipString&amp; szComment) <span class="keyword">const</span>;
<a name="l00864"></a>00864 
<a name="l00865"></a>00865  <span class="keywordtype">bool</span> UpdateFileNameFlags(<span class="keyword">const</span> CZipString* szNewFileName, <span class="keywordtype">bool</span> bAllowRemoveCDir);
<a name="l00866"></a>00866  <span class="keywordtype">bool</span> UpdateCommentFlags(<span class="keyword">const</span> CZipString* szNewComment);
<a name="l00867"></a>00867  <span class="keywordtype">bool</span> UpdateStringsFlags(<span class="keywordtype">bool</span> bAllowRemoveCDir)
<a name="l00868"></a>00868  {
<a name="l00869"></a>00869   <span class="keywordflow">return</span> UpdateFileNameFlags(NULL, bAllowRemoveCDir) | UpdateCommentFlags(NULL);
<a name="l00870"></a>00870  }
<a name="l00871"></a>00871 
<a name="l00872"></a>00872  UINT GetDefaultFileNameCodePage()<span class="keyword"> const</span>
<a name="l00873"></a>00873 <span class="keyword"> </span>{
<a name="l00874"></a>00874   <span class="keywordflow">return</span> <a class="code" href="namespaceZipCompatibility.html#a3e5d0bf6cf2f6c39cf9f239e6ff588cc">ZipCompatibility::GetDefaultNameCodePage</a>(GetSystemCompatibility());
<a name="l00875"></a>00875  }
<a name="l00876"></a>00876 
<a name="l00877"></a>00877  UINT <a class="code" href="namespaceZipCompatibility.html#a1eac3185fffc05796766e7a8ec119279">GetDefaultCommentCodePage</a>()<span class="keyword"> const</span>
<a name="l00878"></a>00878 <span class="keyword"> </span>{
<a name="l00879"></a>00879   <span class="keywordflow">return</span> <a class="code" href="namespaceZipCompatibility.html#a1eac3185fffc05796766e7a8ec119279">ZipCompatibility::GetDefaultCommentCodePage</a>(GetSystemCompatibility());
<a name="l00880"></a>00880  }
<a name="l00881"></a>00881 
<a name="l00882"></a>00882  <span class="keywordtype">void</span> ClearFileName();
<a name="l00883"></a>00883 
<a name="l00884"></a>00884  <span class="keywordtype">void</span> GetCrcAndSizes(<span class="keywordtype">char</span>* pBuffer)<span class="keyword">const</span>;
<a name="l00885"></a>00885 
<a name="l00886"></a>00886  <span class="keywordtype">bool</span> NeedsZip64()<span class="keyword"> const</span>
<a name="l00887"></a>00887 <span class="keyword"> </span>{
<a name="l00888"></a>00888   <span class="keywordflow">return</span> m_uComprSize &gt;= UINT_MAX || m_uUncomprSize &gt;= UINT_MAX || m_uVolumeStart &gt;= USHRT_MAX || m_uOffset &gt;= UINT_MAX;
<a name="l00889"></a>00889  }
<a name="l00890"></a>00890 
<a name="l00891"></a>00891 
<a name="l00892"></a>00892  <span class="keywordtype">void</span> OnNewFileClose(<a class="code" href="classCZipStorage.html">CZipStorage</a>* pStorage)
<a name="l00893"></a>00893  {
<a name="l00894"></a>00894   UpdateLocalHeader(pStorage);
<a name="l00895"></a>00895   WriteDataDescriptor(pStorage);
<a name="l00896"></a>00896   pStorage-&gt;<a class="code" href="classCZipStorage.html#a1230b2132fff67e636139c204735910f">Flush</a>();
<a name="l00897"></a>00897  }
<a name="l00898"></a>00898 
<a name="l00899"></a>00899 <span class="preprocessor">#ifdef _ZIP_UNICODE_CUSTOM</span>
<a name="l00900"></a>00900 <span class="preprocessor"></span> <a class="code" href="classCZipStringStoreSettings.html">CZipStringStoreSettings</a> m_stringSettings;
<a name="l00901"></a>00901 <span class="preprocessor">#endif</span>
<a name="l00902"></a>00902 <span class="preprocessor"></span> StringWithBuffer m_fileName;
<a name="l00903"></a>00903  StringWithBuffer m_comment;
<a name="l00904"></a>00904  <span class="keywordtype">char</span> m_iSystemCompatibility;
<a name="l00905"></a>00905 };
<a name="l00906"></a>00906 
<a name="l00907"></a>00907 <span class="preprocessor">#endif // !defined(ZIPARCHIVE_ZIPFILEHEADER_DOT_H)</span>
</pre></div></div><!-- contents -->
<hr><address><small>
The ZipArchive Library Copyright &copy;&nbsp;2000 - 2012 Artpol Software - Tadeusz Dracz. Generated at Sun Mar 4 2012 00:18:52.
</small></address>
</body>
</html>
